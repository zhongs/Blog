<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ali-oss 同步到 minio</title>
    <url>/2021/02/02/ali-oss-%E5%90%8C%E6%AD%A5%E5%88%B0-minio/</url>
    <content><![CDATA[<ul>
<li><p><code>Rclone</code> 是一个命令行程序，用于管理云存储上的文件。它是云供应商Web存储界面的功能丰富的替代方案。超过40种云存储产品支持rclone，包括S3对象存储，业务和消费者文件存储服务以及标准传输协议。Rclone具有等效于unix命令rsync，cp，mv，mount，ls，ncdu，tree，rm和cat的强大的云功能。 Rclone熟悉的语法包括Shell管道支持和–dry-run保护。它可在命令行，脚本或通过其API使用。用户将rclone称为“云存储的瑞士军刀”和“与魔术不可区分的技术”。</p>
</li>
<li><p><code>amazon (S3)</code> 是一个公开的服务，Web 应用程序开发人员可以使用它存储数字资产，包括图片、视频、音乐和文档。 S3 提供一个 RESTful API 以编程方式实现与该服务的交互。</p>
</li>
</ul>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul>
<li>服务器 CentOS 7 </li>
</ul>
<h1 id="rclone-安装"><a href="#rclone-安装" class="headerlink" title="rclone 安装"></a>rclone 安装</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl https://rclone.org/install.sh | sudo bash</span><br></pre></td></tr></table></figure>
<h1 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h1><ul>
<li><code>~/.config/rclone/rclone.conf</code></li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# cat .config/rclone/rclone.conf</span><br><span class="line"></span><br><span class="line">[oss-cn-beijing]</span><br><span class="line">type = s3</span><br><span class="line">provider = Alibaba</span><br><span class="line">env_auth = false</span><br><span class="line">access_key_id = &lt;YOUR_ACCESS_KEY_ID&gt; # 阿里云后台查看</span><br><span class="line">secret_access_key = &lt;YOUR_SECRET_ACCESS_KEY&gt; # 阿里云后台查看</span><br><span class="line">endpoint = &lt;YOUR_REGION&gt;.aliyuncs.com  # 阿里云后台查看</span><br><span class="line">acl = private</span><br><span class="line">storage_class = Standard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[minio]</span><br><span class="line">type = s3</span><br><span class="line">env_auth = false</span><br><span class="line">access_key_id = minio  </span><br><span class="line">secret_access_key = minio123</span><br><span class="line">region = us-east-1</span><br><span class="line">endpoint = http://127.0.0.1:9000</span><br><span class="line">location_constraint =</span><br><span class="line">server_side_encryption =</span><br></pre></td></tr></table></figure>
<h1 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h1><ul>
<li>将 ali-oss 同步到 minio <code>--transfers</code> 设置并发数量 <code>-P</code> 显示实时进度</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rclone sync -P oss-cn-beijing:bucket-test007 minio:test --transfers=10</span><br></pre></td></tr></table></figure>
<h1 id="参阅资料"><a href="#参阅资料" class="headerlink" title="参阅资料"></a>参阅资料</h1><ul>
<li><a href="https://rclone.org/" target="_blank" rel="noopener">https://rclone.org/</a></li>
<li><a href="https://sunpma.com/864.html" target="_blank" rel="noopener">https://sunpma.com/864.html</a></li>
<li><a href="https://yq.aliyun.com/articles/749107" target="_blank" rel="noopener">https://yq.aliyun.com/articles/749107</a></li>
</ul>
]]></content>
  </entry>
</search>
